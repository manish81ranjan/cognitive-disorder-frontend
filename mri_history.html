<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>MRI Upload History • DEMNET</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-slate-900 text-white flex items-center justify-center min-h-screen">

  <div class="bg-slate-800/70 p-6 rounded-2xl shadow-xl w-full max-w-lg">
    <h2 class="text-xl font-bold mb-4">MRI Upload History</h2>

    <ul id="mriList" class="space-y-2">
      <li class="text-slate-400">Loading history...</li>
    </ul>

    <a href="auth.html" class="mt-4 inline-block text-sm text-slate-400 hover:underline">
      Back to Account
    </a>
  </div>

  <script>
  const API_BASE = "https://cognitive-disorder-backend-7.onrender.com";

  fetch(`${API_BASE}/mri-history`, {
    credentials: "include"
  })
    .then(res => res.json())
    .then(data => {
      const list = document.getElementById("mriList");

      if (!data || data.length === 0) {
        list.innerHTML = `<li class="text-slate-400">No MRI uploads yet.</li>`;
        return;
      }

      list.innerHTML = data.map(u => `
        <li class="p-3 rounded-xl bg-slate-700/50 flex justify-between items-center">
          <span>${u.date} • ${u.type}</span>
          <a href="${API_BASE}/report/${u.id}"
             class="text-cyan-400 hover:underline"
             target="_blank">
            View Report
          </a>
        </li>
      `).join("");
    })
    .catch(err => {
      console.error(err);
      document.getElementById("mriList").innerHTML =
        `<li class="text-red-400">Failed to load history</li>`;
    });
</script>


</body>
</html>


