<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Patient MRI Report • DEMNET</title>

<style>
/* (Your CSS unchanged — kept exactly as-is) */
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
*{margin:0;padding:0;box-sizing:border-box;font-family:Poppins}
body{background:radial-gradient(circle at top,#020617,#000);min-height:100vh;color:#e2e8f0;padding:2rem}
.glass{background:rgba(255,255,255,.08);backdrop-filter:blur(25px);border:1px solid rgba(0,255,255,.3);
box-shadow:0 0 40px rgba(0,255,255,.15),inset 0 0 30px rgba(0,255,255,.15);
border-radius:1rem;padding:1.5rem}
h1{color:#67e8f9;font-size:2.5rem;margin-bottom:1rem}
.glass b{color:#67e8f9}
.report-container{display:flex;flex-direction:column;align-items:center;gap:1rem;margin-top:2rem}
img{width:24rem;border-radius:1.25rem;border:2px solid rgba(0,240,255,.5);
box-shadow:0 0 30px rgba(0,240,255,.7)}
.download-btn,.text-link-btn{padding:.875rem 2rem;border-radius:1rem;text-decoration:none;font-weight:600}
.download-btn{background:linear-gradient(135deg,#00f0ff,#00b3ff);color:#001}
.text-link-btn{color:#94a3b8;border:2px solid #94a3b8}
</style>
</head>

<body>

<h1>MRI Report</h1>

<div class="glass space-y-2">
  <p><b>Patient:</b> <span id="patient"></span></p>
  <p><b>MRI ID:</b> <span id="mriId"></span></p>
  <p><b>Diagnosis:</b> <span id="diagnosis"></span></p>
  <p><b>Confidence:</b> <span id="confidence"></span>%</p>
  <p><b>Severity:</b> <span id="severity"></span></p>
  <p><b>Explanation:</b> <span id="explanation"></span></p>
</div>

<div class="report-container">
  <img id="gradcamImg" alt="MRI Heatmap">
  <a id="downloadBtn" class="download-btn">Download PDF</a>
  <a href="auth.html" class="text-link-btn">Back to Account</a>
</div>

<script>
const BACKEND = "https://cognitive-disorder-backend-6.onrender.com";

// Load report from localStorage
const report = JSON.parse(localStorage.getItem("mri_result"));

if (!report) {
  alert("No report found");
  location.href = "index.html";
}

// Fill data
document.getElementById("patient").innerText = report.patient || "Anonymous";
document.getElementById("mriId").innerText = report.report_id;
document.getElementById("diagnosis").innerText = report.prediction;
document.getElementById("confidence").innerText = report.confidence;
document.getElementById("severity").innerText = report.severity || "N/A";
document.getElementById("explanation").innerText = report.explanation || "AI-generated cognitive analysis";

// Images & download
document.getElementById("gradcamImg").src = report.gradcam_url;
document.getElementById("downloadBtn").href =
  `${BACKEND}/download-report/${report.report_id}`;
</script>

</body>
</html>
