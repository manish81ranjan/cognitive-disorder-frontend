<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DEMNET â€¢ Authentication</title>

  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    body {
      background:
        radial-gradient(900px 500px at 10% 10%, rgba(124, 58, 237, 0.12), transparent 70%),
        radial-gradient(900px 500px at 90% 90%, rgba(6, 182, 212, 0.12), transparent 70%),
        #0f172a;
    }
    .glass {
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid rgba(255, 255, 255, 0.06);
      backdrop-filter: blur(10px);
    }
    .slide { transition: .4s; }
    .hidden-slide { opacity:0; pointer-events:none; transform:translateX(40px); }
  </style>
</head>

<body class="text-slate-100 min-h-screen flex items-center justify-center p-4">

<div class="glass rounded-2xl shadow-2xl w-full max-w-md px-8 py-10">

  <!-- Logo -->
  <div class="flex items-center gap-3 mb-8">
    <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-indigo-500 to-teal-400 flex items-center justify-center">
      ðŸ§ 
    </div>
    <div>
      <div class="font-bold text-lg">DEMNET MRI</div>
      <div class="text-xs text-slate-300">Cognitive Memory Analysis</div>
    </div>
  </div>

  <!-- Tabs -->
  <div class="relative flex border-b border-slate-700 mb-6">
    <button onclick="switchTab('login')" id="loginTab" class="flex-1 py-2 text-teal-300">Login</button>
    <button onclick="switchTab('signup')" id="signupTab" class="flex-1 py-2 text-slate-400">Sign Up</button>
    <div id="indicator" class="absolute bottom-0 left-0 w-1/2 h-[3px] bg-teal-400 transition-all"></div>
  </div>

  <!-- FORMS -->
  <div class="relative min-h-[340px]">

    <!-- LOGIN -->
    <form id="loginForm" class="slide" onsubmit="loginUser(event)">
      <label>Email</label>
      <input type="email" id="loginEmail" required
        class="w-full mt-1 mb-4 p-3 rounded bg-slate-900 border border-slate-700">

      <label>Password</label>
      <input type="password" id="loginPass" required
        class="w-full mt-1 p-3 rounded bg-slate-900 border border-slate-700">

      <button class="w-full mt-6 p-3 rounded bg-gradient-to-r from-indigo-500 to-teal-400 text-black">
        Login
      </button>
    </form>

    <!-- SIGNUP -->
    <form id="signupForm" class="slide hidden-slide absolute top-0 w-full" onsubmit="signupUser(event)">
      <label>Name</label>
      <input type="text" id="signName" required
        class="w-full mt-1 mb-4 p-3 rounded bg-slate-900 border border-slate-700">

      <label>Email</label>
      <input type="email" id="signEmail" required
        class="w-full mt-1 mb-4 p-3 rounded bg-slate-900 border border-slate-700">

      <label>Password</label>
      <input type="password" id="signPass" required
        class="w-full mt-1 p-3 rounded bg-slate-900 border border-slate-700">

      <button class="w-full mt-6 p-3 rounded bg-gradient-to-r from-indigo-500 to-teal-400 text-black">
        Create Account
      </button>
    </form>

  </div>
</div>

<script>
const API = "https://cognitive-disorder-backend-7.onrender.com";

function switchTab(tab){
  document.getElementById("indicator").style.left = tab === "login" ? "0%" : "50%";
  loginForm.classList.toggle("hidden-slide", tab !== "login");
  signupForm.classList.toggle("hidden-slide", tab !== "signup");
}

// LOGIN
async function loginUser(e){
  e.preventDefault();

  const res = await fetch(`${API}/login`, {
    method: "POST",
    headers: {
      "Content-Type": "application/json"
    },
    body: JSON.stringify({
      email: loginEmail.value,
      password: loginPass.value
    })
  });

  const data = await res.json();

  if (data.status === "success") {
    // âœ… SAVE USER
    localStorage.setItem("user", JSON.stringify(data.user));

    // âœ… REDIRECT
    window.location.href = "account.html";
  } else {
    alert(data.message || "Invalid credentials");
  }
}

// SIGNUP
async function signupUser(e){
  e.preventDefault();

  const res = await fetch(`${API}/signup`, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      name: signName.value,
      email: signEmail.value,
      password: signPass.value
    })
  });

  const data = await res.json();

  if (data.status === "success") {
    alert("Account created successfully. Please login.");
    switchTab("login");
  } else {
    alert(data.message || "Signup failed");
  }
}
</script>



</body>
</html>




